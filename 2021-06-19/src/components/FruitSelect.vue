<script setup lang="ts">
import {defineProps, computed, watch} from 'vue'
import { isDark } from '@slidev/client/logic/dark'
import { NConfigProvider, NSelect, darkTheme } from 'naive-ui'
import { fruit } from '../setup/naive-ui'

const props = defineProps({
  placeholder: String,
  useFruitPlaceholder: Boolean,
})

const fruitsTable: Record<string, string> = {
  'Pear': 'Ê¢®',
  'Orange': 'Ê©òÂ≠ê',
  'Apple': 'ËãπÊûú',
}

const placeholder = computed(() => {
  return props.useFruitPlaceholder ? `ÊàëÊÉ≥ÂêÉ${fruitsTable[options.find(it => it.value === fruit.value)!.value!]}` : props.placeholder
})

const value = null
const options = [
  {
    label: 'üçê',
    value: 'Pear',
  },
  {
    label: 'üçä',
    value: 'Orange',
  },
  {
    label: 'üçé',
    value: 'Apple',
  },
]

</script>

<template>
  <NConfigProvider :theme="isDark ? darkTheme : undefined">
    <NSelect v-bind="$attrs" :placeholder="placeholder" clearable v-model="value" :options="options" />
  </NConfigProvider>
</template>
